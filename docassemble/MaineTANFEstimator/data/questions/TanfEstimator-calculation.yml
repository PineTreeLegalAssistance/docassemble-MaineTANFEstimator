---
#Where we will make the math magic happen for the TANF Estimator!

code: |
  
  # Step 1. Household - will add this later.
  # Step 2. Income Eligibility
  #2.1 Convert weekly and biweekly income to monthly amount
  WUIC = WUI * 4.333    
  biWUIC = biWUI * 2.17
  WEIC = WEI * 4.333
  biWEIC = biWEI * 2.17  
  #2.2 Gross Earned and Unearned amounts
  GMUI = round(MUI + WUIC + biWUIC, 0)
  GMEI = round(MEI + WEIC + biWEIC, 0)
  #May need to add some child support related math here - passing over for now
  #2.3 Calculating Countable Earned Income    
  CMEI = round((GMEI - 108) * .5)
  #2.4 Calculating Total Income
  TI = round(CMEI + GMUI, 0)
  #2.5 Household Size and Standard of Need
  #This may be a mess for a while - will need to test
  if ChildOnlyHousehold == True:
    if HHTotal <= 8:
      SON = arrStdOfNeedChildOnly[HHSize-1]
    else:
      SON = arrStdOfNeedChildOnly[7]+((HHSize-8)*arrStdOfNeedChildOnly[8])
  else:
    if HHTotal <= 8:
      SON = arrStdOfNeedAdultInc[HHSize-1]
    else:
      SON = arrStdOfNeedAdultInc[7]+((HHSize-8)*arrStdOfNeedAdultInc[8])
  #2.6 Eligibility Results
    if TI < SON:
      SONResult = "PASSED"
    else:
      SONResult = "FAILED"
  # Step 3. Calculating Basic TANF Grant
  #3.1 
  BasicGrant = round(SON - TI, 0)
  # Step 4. Special Need Housing Allowance
  #4.1 Calculating SNHA Income
  SNHAI = round(BasicGrant + TI + CSR, 0)
  #4.2 Comparing SNHA Income and Shelter Costs
  if SC >= (SNHAI * .5):
    SNHAResult = "PASSED"
  else:
    SNHARestult = "FAILED"
  # Step 5. Results & Estimate
  #5.1 Adding in SNHA if applicable, calculating results
  if SNHAResult == "PASSED":
    FinalResult = round(BasicGrant + 300, 0)
  else:
    FinalResult = round(BasicGrant)
   
    